{# fiche Absence #}
{% from "Skins/AngularAdmin/Modules/Cadref/Default/form_components.twig" import label,fkey %} 
{% set f=fields %}
{% set o='modalObj' %}
<div class="page-content-inner">
    <!-- Default Panel -->
    <section class="panel">
        <div class="panel-body cadref-panel-body">
            <div class="row no-gutters">
                <div class="col-md-10">
					<div class="row">
						<div class="col-md-9" >
							<div class="row">
								<div class="col-md-2">
									{{ label("Enseignant") }}
								</div>
								<div class="col-md-10">
									<div class="row">
										<div class="col-md-2">
											{{ fkey(f.EnseignantId, o) }}
										</div>
										<div class="col-md-10">
											<div class="control-group">
												<input type="text" class="form-control cadref-input" ng-model="obj.Nom" readonly/>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="row" style="height:10px"></div>
							<div class="row">
								<div class="col-md-2">
									{{ label("Date de début") }}
								</div>
								<div class="col-md-4">
									<label class="input-group datetimepicker-init cadref-no-margin">
										<input id="input-{{ o }}DateDebut" type="text" class="form-control cadref-input" placeholder="Date début" mask="dd/dd/dddd dd:dd" ng-model="{{ o }}.DateDebut"/>
										<span class="input-group-addon">
											<i class="icmn-calendar"></i>
										</span>
									</label>
								</div>
							</div>
							<div class="row" style="height:10px"></div>
							<div class="row">
								<div class="col-md-2">
									{{ label("Date de fin") }}
								</div>
								<div class="col-md-4">
									<label class="input-group datetimepicker-init cadref-no-margin">
										<input id="input-{{ o }}DateFin" type="text" class="form-control cadref-input" placeholder="Date fin" mask="dd/dd/dddd dd:dd" ng-model="{{ o }}.DateFin"/>
										<span class="input-group-addon">
											<i class="icmn-calendar"></i>
										</span>
									</label>
								</div>
							</div>
							<div class="row" style="height:10px"></div>
							<div class="row">
								<div class="col-md-2">
									{{ label("Description") }}
								</div>
								<div class="col-md-10">
									<input type="text" class="form-control cadref-input" ng-model="{{ o }}.Description"/>
								</div>
							</div>
						</div>
						{# block right #}                    
						<div class="col-md-3">
						</div>
					</div>
				</div>
				<div class="col-md-2">
					<button type="button" class="btn btn-success margin-inline cadref-btn-100" accesskey="s" title="Alt S" ng-click="absenceSave()">Sauver</button>
					<button type="button" class="btn btn-danger margin-inline cadref-btn-100" ng-if="{{ o }}.id" ng-click="absenceSupprime({{ o }})">Supprimer</button>
					<a type="button" class="btn btn-warning margin-inline cadref-btn-100" data-dismiss="modal">Annuler</a>
				</div>
			</div>
		</div>
	</section>
</div>

<script>
	$('.datetimepicker-init').datetimepicker({
		widgetPositioning: {
			horizontal: 'left'
		},
		locale: 'fr',
		icons: {
			time: "fa fa-clock-o",
			date: "fa fa-calendar",
			up: "fa fa-arrow-up",
			down: "fa fa-arrow-down"
		}
	});
	$(".datetimepicker-init").on("dp.change", function () {
		var input = $(this).children('input').eq(0);
		input.trigger('change');
		input.trigger('input');
	});
</script>
