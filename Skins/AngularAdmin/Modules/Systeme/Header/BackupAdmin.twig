app.controller('BackupAdminMenuTopCtrl', function( $scope, AbtelBackupActivityStore) {

    $scope.store =  AbtelBackupActivityStore;

    $scope.store.setFilters('Errors=1','TopMenuErr');
    $scope.store.getData(1,'TopMenuErr');

    $scope.store.setFilters('Started=1&Success=0&Errors=0','TopMenuRun');
    $scope.store.getData(1,'TopMenuRun');

    $scope.errCount = $scope.store.data['TopMenuErr'].length;
    $scope.runCount = $scope.store.data['TopMenuRun'].length;

    $scope.isVm = function(){
        return function(item){
            return item['VmJobVmJobId'] > 0;
        }
    }
    $scope.isSamba = function(){
        return function(item){
            return item['SambaJobSambaJobId'] > 0;
        }
    }
    $scope.isRemote = function(){
        return function(item){
            return item['RemoteJobRemoteJobId'] > 0;
        }
    }

});